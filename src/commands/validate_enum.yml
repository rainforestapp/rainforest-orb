description: Validate parameter is an allowed value
parameters:
  key:
    description: The name of the parameter to validate
    type: string
  value:
    description: The value of the parameter to validate
    type: string
  enum:
    description: The space-delimited list of accepted values
    type: string
steps:
  - run:
      name: Verify << parameters.key >> is an allowed value
      command: |
        if ! echo "<< parameters.enum >>" | grep -Eq "\b"<< parameters.value >>"\b" ; then
          echo "Error: << parameters.value >> not in << parameters.enum >>"
          exit 1
        fi
